{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dhiren\\\\My projects\\\\FamPay_Roulette_Assignment\\\\src\\\\components\\\\Roulette.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Wheel } from \"react-custom-roulette\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst data = [{\n  option: \"Better luck next time!\",\n  style: {\n    backgroundColor: \"#832a4a\",\n    textColor: \"#e5d2da\"\n  }\n}, {\n  option: \"2X Savings\",\n  style: {\n    backgroundColor: \"#742544\",\n    textColor: \"#e2d2d8\"\n  }\n}, {\n  option: \"â‚¹100 Cashback\",\n  style: {\n    backgroundColor: \"#551b31\",\n    textColor: \"#e9e1e4\"\n  }\n}, {\n  option: \"â‚¹20 ðŸ’¸\",\n  style: {\n    backgroundColor: \"#65203a\",\n    textColor: \"#e9dfe3\"\n  }\n}, {\n  option: \"â‚¹50 ðŸ’¸\",\n  style: {\n    backgroundColor: \"#832a4a\",\n    textColor: \"#e5d2da\"\n  }\n}, {\n  option: \"1.5X Savings\",\n  style: {\n    backgroundColor: \"#742544\",\n    textColor: \"#e2d2d8\"\n  }\n}, {\n  option: \"2X Savings\",\n  style: {\n    backgroundColor: \"#551b31\",\n    textColor: \"#e9e1e4\"\n  }\n}, {\n  option: \"â‚¹50 ðŸ’¸\",\n  style: {\n    backgroundColor: \"#65203a\",\n    textColor: \"#e9dfe3\"\n  }\n}];\nexport default function Spinner() {\n  _s();\n\n  const [mustSpin, setMustSpin] = useState(false);\n  const [prizeNumber, setPrizeNumber] = useState(0);\n  const [access_token, setAccess_token] = useState(process.env.REACT_APP_fampay_access_token); // Id of Google Spreadsheet which is used to store data\n\n  const spreadsheetId = process.env.REACT_APP_fampay_spreadsheetId;\n\n  const apiCall = () => {\n    // Request Access Token from oAuth 2.0\n    axios.post(`https://accounts.google.com/o/oauth2/v2/auth`, null, {\n      params: {\n        scope: \"https://www.googleapis.com/auth/spreadsheets\",\n        include_granted_scopes: true,\n        response_type: \"token\",\n        state: \"state_parameter_passthrough_value\",\n        redirect_uri: \"https://fampay-spinner.herokuapp.com\",\n        client_id: process.env.REACT_APP_fampay_client_id\n      }\n    }).then(response => {\n      console.log(response); // setAccess_token(response);\n    }, error => {\n      console.log(error);\n    }); // Post Data to Google Spreadsheet\n\n    var pwa = navigator.userAgentData.mobile ? \"mobile-pwa\" : \"web-pwa\";\n    var data = {\n      majorDimension: \"ROWS\",\n      values: [[pwa, new Date().toISOString(), prizeNumber]]\n    };\n    axios.post(`https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/A1:append`, data, {\n      params: {\n        includeValuesInResponse: false,\n        insertDataOption: \"INSERT_ROWS\",\n        responseDateTimeRenderOption: \"SERIAL_NUMBER\",\n        responseValueRenderOption: \"FORMATTED_VALUE\",\n        valueInputOption: \"USER_ENTERED\",\n        access_token: access_token\n      }\n    }).then(response => {\n      console.log(response);\n    }, error => {\n      console.log(error);\n    });\n  };\n\n  const handleSpinClick = () => {\n    const newPrizeNumber = Math.floor(Math.random() * data.length);\n    setPrizeNumber(newPrizeNumber);\n    setMustSpin(true);\n    apiCall();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(Wheel, {\n        mustStartSpinning: mustSpin,\n        prizeNumber: prizeNumber,\n        data: data,\n        fontSize: 15,\n        outerBorderColor: \"#dad9d6\",\n        radiusLineColor: \"#65203a\",\n        onStopSpinning: () => {\n          setMustSpin(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"spinbutton\",\n      onClick: handleSpinClick,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Power Bar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        backgroundColor: \"#ffffff\",\n        padding: \"1rem\",\n        borderRadius: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"2rem\"\n        },\n        children: \"Spin the wheel now to get rewarded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"1rem\",\n          color: \"#7d7d7d\"\n        },\n        children: \"Tap on Spin or rotate the wheel anti-clockwise and release to start spinning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"Have a question? \", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#fabd32\"\n        },\n        children: \"Get Help\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Spinner, \"X3+bBv4rULPjpJ3A8uvSDVBDQ/0=\");\n\n_c = Spinner;\n\nvar _c;\n\n$RefreshReg$(_c, \"Spinner\");","map":{"version":3,"sources":["D:/Dhiren/My projects/FamPay_Roulette_Assignment/src/components/Roulette.js"],"names":["React","useState","Wheel","axios","data","option","style","backgroundColor","textColor","Spinner","mustSpin","setMustSpin","prizeNumber","setPrizeNumber","access_token","setAccess_token","process","env","REACT_APP_fampay_access_token","spreadsheetId","REACT_APP_fampay_spreadsheetId","apiCall","post","params","scope","include_granted_scopes","response_type","state","redirect_uri","client_id","REACT_APP_fampay_client_id","then","response","console","log","error","pwa","navigator","userAgentData","mobile","majorDimension","values","Date","toISOString","includeValuesInResponse","insertDataOption","responseDateTimeRenderOption","responseValueRenderOption","valueInputOption","handleSpinClick","newPrizeNumber","Math","floor","random","length","padding","borderRadius","fontSize","color"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,KAAT,QAAsB,uBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,IAAI,GAAG,CACX;AACEC,EAAAA,MAAM,EAAE,wBADV;AAEEC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,eAAe,EAAE,SAAnB;AAA8BC,IAAAA,SAAS,EAAE;AAAzC;AAFT,CADW,EAKX;AACEH,EAAAA,MAAM,EAAE,YADV;AAEEC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,eAAe,EAAE,SAAnB;AAA8BC,IAAAA,SAAS,EAAE;AAAzC;AAFT,CALW,EASX;AACEH,EAAAA,MAAM,EAAE,eADV;AAEEC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,eAAe,EAAE,SAAnB;AAA8BC,IAAAA,SAAS,EAAE;AAAzC;AAFT,CATW,EAaX;AACEH,EAAAA,MAAM,EAAE,QADV;AAEEC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,eAAe,EAAE,SAAnB;AAA8BC,IAAAA,SAAS,EAAE;AAAzC;AAFT,CAbW,EAiBX;AACEH,EAAAA,MAAM,EAAE,QADV;AAEEC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,eAAe,EAAE,SAAnB;AAA8BC,IAAAA,SAAS,EAAE;AAAzC;AAFT,CAjBW,EAqBX;AACEH,EAAAA,MAAM,EAAE,cADV;AAEEC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,eAAe,EAAE,SAAnB;AAA8BC,IAAAA,SAAS,EAAE;AAAzC;AAFT,CArBW,EAyBX;AACEH,EAAAA,MAAM,EAAE,YADV;AAEEC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,eAAe,EAAE,SAAnB;AAA8BC,IAAAA,SAAS,EAAE;AAAzC;AAFT,CAzBW,EA6BX;AACEH,EAAAA,MAAM,EAAE,QADV;AAEEC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,eAAe,EAAE,SAAnB;AAA8BC,IAAAA,SAAS,EAAE;AAAzC;AAFT,CA7BW,CAAb;AAmCA,eAAe,SAASC,OAAT,GAAmB;AAAA;;AAChC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACa,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,CAC9Ce,OAAO,CAACC,GAAR,CAAYC,6BADkC,CAAhD,CAHgC,CAMhC;;AACA,QAAMC,aAAa,GAAGH,OAAO,CAACC,GAAR,CAAYG,8BAAlC;;AAEA,QAAMC,OAAO,GAAG,MAAM;AACpB;AACAlB,IAAAA,KAAK,CACFmB,IADH,CACS,8CADT,EACwD,IADxD,EAC8D;AAC1DC,MAAAA,MAAM,EAAE;AACNC,QAAAA,KAAK,EAAE,8CADD;AAENC,QAAAA,sBAAsB,EAAE,IAFlB;AAGNC,QAAAA,aAAa,EAAE,OAHT;AAINC,QAAAA,KAAK,EAAE,mCAJD;AAKNC,QAAAA,YAAY,EAAE,sCALR;AAMNC,QAAAA,SAAS,EAAEb,OAAO,CAACC,GAAR,CAAYa;AANjB;AADkD,KAD9D,EAWGC,IAXH,CAYKC,QAAD,IAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EADY,CAEZ;AACD,KAfL,EAgBKG,KAAD,IAAW;AACTF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,KAlBL,EAFoB,CAsBpB;;AACA,QAAIC,GAAG,GAAGC,SAAS,CAACC,aAAV,CAAwBC,MAAxB,GAAiC,YAAjC,GAAgD,SAA1D;AACA,QAAInC,IAAI,GAAG;AACToC,MAAAA,cAAc,EAAE,MADP;AAETC,MAAAA,MAAM,EAAE,CAAC,CAACL,GAAD,EAAM,IAAIM,IAAJ,GAAWC,WAAX,EAAN,EAAgC/B,WAAhC,CAAD;AAFC,KAAX;AAIAT,IAAAA,KAAK,CACFmB,IADH,CAEK,iDAAgDH,aAAc,mBAFnE,EAGIf,IAHJ,EAII;AACEmB,MAAAA,MAAM,EAAE;AACNqB,QAAAA,uBAAuB,EAAE,KADnB;AAENC,QAAAA,gBAAgB,EAAE,aAFZ;AAGNC,QAAAA,4BAA4B,EAAE,eAHxB;AAINC,QAAAA,yBAAyB,EAAE,iBAJrB;AAKNC,QAAAA,gBAAgB,EAAE,cALZ;AAMNlC,QAAAA,YAAY,EAAEA;AANR;AADV,KAJJ,EAeGiB,IAfH,CAgBKC,QAAD,IAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,KAlBL,EAmBKG,KAAD,IAAW;AACTF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,KArBL;AAuBD,GAnDD;;AAqDA,QAAMc,eAAe,GAAG,MAAM;AAC5B,UAAMC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBjD,IAAI,CAACkD,MAAhC,CAAvB;AACAzC,IAAAA,cAAc,CAACqC,cAAD,CAAd;AACAvC,IAAAA,WAAW,CAAC,IAAD,CAAX;AACAU,IAAAA,OAAO;AACR,GALD;;AAOA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACE,QAAC,KAAD;AACE,QAAA,iBAAiB,EAAEX,QADrB;AAEE,QAAA,WAAW,EAAEE,WAFf;AAGE,QAAA,IAAI,EAAER,IAHR;AAIE,QAAA,QAAQ,EAAE,EAJZ;AAKE,QAAA,gBAAgB,EAAE,SALpB;AAME,QAAA,eAAe,EAAE,SANnB;AAOE,QAAA,cAAc,EAAE,MAAM;AACpBO,UAAAA,WAAW,CAAC,KAAD,CAAX;AACD;AATH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAcE;AAAQ,MAAA,EAAE,EAAC,YAAX;AAAwB,MAAA,OAAO,EAAEsC,eAAjC;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAdF,eAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAjBF,eAkBE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,KAAK,EAAE;AACL1C,QAAAA,eAAe,EAAE,SADZ;AAELgD,QAAAA,OAAO,EAAE,MAFJ;AAGLC,QAAAA,YAAY,EAAE;AAHT,OAFT;AAAA,8BAQE;AAAG,QAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,eASE;AAAG,QAAA,KAAK,EAAE;AAAEA,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,KAAK,EAAE;AAA3B,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF;AAAA;AAAA;AAAA;AAAA;AAAA,YAlBF,eAgCE;AAAA,mDACmB;AAAM,QAAA,KAAK,EAAE;AAAEA,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADnB;AAAA;AAAA;AAAA;AAAA;AAAA,YAhCF;AAAA,kBADF;AAsCD;;GA3GuBjD,O;;KAAAA,O","sourcesContent":["import React, { useState } from \"react\";\nimport { Wheel } from \"react-custom-roulette\";\nimport axios from \"axios\";\n\nconst data = [\n  {\n    option: \"Better luck next time!\",\n    style: { backgroundColor: \"#832a4a\", textColor: \"#e5d2da\" },\n  },\n  {\n    option: \"2X Savings\",\n    style: { backgroundColor: \"#742544\", textColor: \"#e2d2d8\" },\n  },\n  {\n    option: \"â‚¹100 Cashback\",\n    style: { backgroundColor: \"#551b31\", textColor: \"#e9e1e4\" },\n  },\n  {\n    option: \"â‚¹20 ðŸ’¸\",\n    style: { backgroundColor: \"#65203a\", textColor: \"#e9dfe3\" },\n  },\n  {\n    option: \"â‚¹50 ðŸ’¸\",\n    style: { backgroundColor: \"#832a4a\", textColor: \"#e5d2da\" },\n  },\n  {\n    option: \"1.5X Savings\",\n    style: { backgroundColor: \"#742544\", textColor: \"#e2d2d8\" },\n  },\n  {\n    option: \"2X Savings\",\n    style: { backgroundColor: \"#551b31\", textColor: \"#e9e1e4\" },\n  },\n  {\n    option: \"â‚¹50 ðŸ’¸\",\n    style: { backgroundColor: \"#65203a\", textColor: \"#e9dfe3\" },\n  },\n];\n\nexport default function Spinner() {\n  const [mustSpin, setMustSpin] = useState(false);\n  const [prizeNumber, setPrizeNumber] = useState(0);\n  const [access_token, setAccess_token] = useState(\n    process.env.REACT_APP_fampay_access_token\n  );\n  // Id of Google Spreadsheet which is used to store data\n  const spreadsheetId = process.env.REACT_APP_fampay_spreadsheetId;\n\n  const apiCall = () => {\n    // Request Access Token from oAuth 2.0\n    axios\n      .post(`https://accounts.google.com/o/oauth2/v2/auth`, null, {\n        params: {\n          scope: \"https://www.googleapis.com/auth/spreadsheets\",\n          include_granted_scopes: true,\n          response_type: \"token\",\n          state: \"state_parameter_passthrough_value\",\n          redirect_uri: \"https://fampay-spinner.herokuapp.com\",\n          client_id: process.env.REACT_APP_fampay_client_id,\n        },\n      })\n      .then(\n        (response) => {\n          console.log(response);\n          // setAccess_token(response);\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n    // Post Data to Google Spreadsheet\n    var pwa = navigator.userAgentData.mobile ? \"mobile-pwa\" : \"web-pwa\";\n    var data = {\n      majorDimension: \"ROWS\",\n      values: [[pwa, new Date().toISOString(), prizeNumber]],\n    };\n    axios\n      .post(\n        `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/A1:append`,\n        data,\n        {\n          params: {\n            includeValuesInResponse: false,\n            insertDataOption: \"INSERT_ROWS\",\n            responseDateTimeRenderOption: \"SERIAL_NUMBER\",\n            responseValueRenderOption: \"FORMATTED_VALUE\",\n            valueInputOption: \"USER_ENTERED\",\n            access_token: access_token,\n          },\n        }\n      )\n      .then(\n        (response) => {\n          console.log(response);\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  };\n\n  const handleSpinClick = () => {\n    const newPrizeNumber = Math.floor(Math.random() * data.length);\n    setPrizeNumber(newPrizeNumber);\n    setMustSpin(true);\n    apiCall();\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <Wheel\n          mustStartSpinning={mustSpin}\n          prizeNumber={prizeNumber}\n          data={data}\n          fontSize={15}\n          outerBorderColor={\"#dad9d6\"}\n          radiusLineColor={\"#65203a\"}\n          onStopSpinning={() => {\n            setMustSpin(false);\n          }}\n        />\n      </div>\n      <button id=\"spinbutton\" onClick={handleSpinClick}>\n        <span>Spin</span>\n      </button>\n      <div>Power Bar</div>\n      <div\n        className=\"container\"\n        style={{\n          backgroundColor: \"#ffffff\",\n          padding: \"1rem\",\n          borderRadius: \"1rem\",\n        }}\n      >\n        <p style={{ fontSize: \"2rem\" }}>Spin the wheel now to get rewarded</p>\n        <p style={{ fontSize: \"1rem\", color: \"#7d7d7d\" }}>\n          Tap on Spin or rotate the wheel anti-clockwise and release to start\n          spinning\n        </p>\n      </div>\n      <h4>\n        Have a question? <span style={{ color: \"#fabd32\" }}>Get Help</span>\n      </h4>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}